[gd_scene load_steps=22 format=3 uid="uid://8n8svovtgrsr"]

[ext_resource type="Texture2D" uid="uid://o2n1nqo1yahd" path="res://assets/kenney_protoype_textures/PNG/Dark/texture_13.png" id="1_whpuv"]
[ext_resource type="Texture2D" uid="uid://dv8x0y75pmtma" path="res://assets/kenney_protoype_textures/PNG/Light/texture_13.png" id="2_85hcc"]
[ext_resource type="PackedScene" uid="uid://luy7w0qfph84" path="res://player/player.tscn" id="3_85hcc"]
[ext_resource type="PackedScene" uid="uid://dlyxujkbtsmnm" path="res://interaction/note/Run_Note.tscn" id="3_h3ryc"]
[ext_resource type="PackedScene" uid="uid://bfxxin08cd2er" path="res://interaction/note/text_note.tscn" id="4_ubtly"]
[ext_resource type="PackedScene" uid="uid://cprcy3ipbbl73" path="res://interaction/switch/switch.tscn" id="8_rgshf"]
[ext_resource type="Script" uid="uid://cq0ysmsqcbbwp" path="res://interaction/light.gd" id="9_50mym"]
[ext_resource type="Script" uid="uid://3b0mfmma4m02" path="res://interaction/bridge.gd" id="9_jpsdj"]
[ext_resource type="PackedScene" uid="uid://dxo43pwgdu1p5" path="res://interaction/draggable/bucket.tscn" id="10_h8jws"]
[ext_resource type="PackedScene" uid="uid://dudqqo5it1iuy" path="res://interaction/wheel/wheel.tscn" id="11_gtt2g"]
[ext_resource type="PackedScene" uid="uid://blpg3l8h2pa1u" path="res://interaction/collectable/item.tscn" id="11_rgshf"]
[ext_resource type="PackedScene" uid="uid://dhifhdp582mcf" path="res://interaction/door/door.tscn" id="17_e5k14"]
[ext_resource type="PackedScene" uid="uid://bdi4tb4kffd6k" path="res://interaction/draggable/plank_1.tscn" id="17_smb53"]
[ext_resource type="PackedScene" uid="uid://nv6su48cqvpq" path="res://interaction/draggable/box.tscn" id="19_hk7wi"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_o0b4d"]
sky_top_color = Color(0.280211, 0.337572, 0.417356, 1)
sky_horizon_color = Color(0.737255, 0.560784, 0.403922, 1)
ground_bottom_color = Color(0.214832, 0.259833, 0.444617, 1)
ground_horizon_color = Color(0.735352, 0.562619, 0.404639, 1)

[sub_resource type="Sky" id="Sky_50mym"]
sky_material = SubResource("ProceduralSkyMaterial_o0b4d")

[sub_resource type="Environment" id="Environment_yn25f"]
background_mode = 2
sky = SubResource("Sky_50mym")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7he1i"]
albedo_texture = ExtResource("1_whpuv")
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_gck8l"]
albedo_texture = ExtResource("2_85hcc")
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jpsdj"]
albedo_texture = ExtResource("1_whpuv")
uv1_triplanar = true

[sub_resource type="GDScript" id="GDScript_o0b4d"]
script/source = "extends SpotLight3D

@export var actuation_percentage: float = 0.8

func execute(_percentage: float) -> void:
	if _percentage > .97:
		light_energy = (100.0)
	elif  _percentage < .03:
		light_energy = (0.0)
"

[node name="Sandbox" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_yn25f")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866024, -0.433016, 0.250001, 0, 0.499998, 0.866026, -0.500003, 0.749999, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="Floor" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
use_collision = true
size = Vector3(30, 1, 30)
material = SubResource("StandardMaterial3D_7he1i")

[node name="CrouchCheck" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.5, 3.01, -6)
visible = false
use_collision = true
size = Vector3(8, 2, 1)
material = SubResource("StandardMaterial3D_gck8l")

[node name="RunNote" parent="CrouchCheck" instance=ExtResource("3_h3ryc")]
transform = Transform3D(0.25, 0, 0, 0, -1.09278e-08, -0.25, 0, 0.25, -1.09278e-08, 0, 0, 0.508946)

[node name="RunNote2" parent="CrouchCheck" instance=ExtResource("3_h3ryc")]
transform = Transform3D(0.25, 0, 0, 0, -1.09278e-08, -0.25, 0, 0.25, -1.09278e-08, -1, 0, 0.508946)

[node name="RunNote3" parent="CrouchCheck" instance=ExtResource("3_h3ryc")]
transform = Transform3D(0.25, 0, 0, 0, -1.09278e-08, -0.25, 0, 0.25, -1.09278e-08, -2, 0, 0.508946)

[node name="Text_Note" parent="CrouchCheck" instance=ExtResource("4_ubtly")]
transform = Transform3D(0.25, 0, 0, 0, -1.09278e-08, -0.25, 0, 0.25, -1.09278e-08, 1, 0, 0.526254)

[node name="Text_Note2" parent="CrouchCheck" instance=ExtResource("4_ubtly")]
transform = Transform3D(0.25, 0, 0, 0, -1.09278e-08, -0.25, 0, 0.25, -1.09278e-08, 2, 0, 0.526254)

[node name="Text_Note3" parent="CrouchCheck" instance=ExtResource("4_ubtly")]
transform = Transform3D(0.25, 0, 0, 0, -1.09278e-08, -0.25, 0, 0.25, -1.09278e-08, 3, 0, 0.526254)

[node name="Player" parent="." instance=ExtResource("3_85hcc")]
transform = Transform3D(0.073029, 0, -0.99733, 0, 1, 0, 0.99733, 0, 0.073029, -0.11386657, 1, 0.318248)

[node name="Podium_Switch" type="CSGBox3D" parent="."]
transform = Transform3D(0.90977305, 0, -0.415106, 0, 1, 0, 0.415106, 0, 0.90977305, 2.6030269, 2, 2.6335347)
use_collision = true
size = Vector3(1, 2, 1)
material = SubResource("StandardMaterial3D_jpsdj")

[node name="Switch" parent="Podium_Switch" instance=ExtResource("8_rgshf")]
transform = Transform3D(0.866025, -0.5, -2.34249e-08, 0.5, 0.866025, 8.74228e-08, -2.34249e-08, -8.74228e-08, 1, -0.530396, 0.460983, 0)

[node name="SpotLight3D" type="SpotLight3D" parent="Podium_Switch"]
transform = Transform3D(1, 1.74846e-07, 1.74846e-07, -1.74846e-07, -4.37114e-08, 1, 1.74846e-07, -1, -4.37114e-08, 0, 2, 0)
script = ExtResource("9_50mym")

[node name="Podium_Wheel" type="CSGBox3D" parent="."]
transform = Transform3D(0.22003344, 0, -0.9754923, 0, 1, 0, 0.9754923, 0, 0.22003344, 7.344758, 2, 0.29670882)
use_collision = true
size = Vector3(1, 2, 1)
material = SubResource("StandardMaterial3D_jpsdj")

[node name="Wheel" parent="Podium_Wheel" instance=ExtResource("11_gtt2g")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.033223808, 0.50181246, 0.59574306)

[node name="PivotPoint" type="Node3D" parent="Podium_Wheel"]
transform = Transform3D(1, -8.74228e-08, 8.74228e-08, 8.74228e-08, -4.37114e-08, -1, 8.74228e-08, 1, -4.37114e-08, 1, -1, -1)
script = ExtResource("9_jpsdj")

[node name="Bridge" type="CSGBox3D" parent="Podium_Wheel/PivotPoint"]
transform = Transform3D(1, 0, 0, 0, 1, -1.7763568e-15, 0, 5.3290705e-15, 1, 1.3732829, 0.29308605, -1.3576841)
use_collision = true
size = Vector3(2, 0.2685547, 2.375122)

[node name="Cube_1kg" parent="." instance=ExtResource("10_h8jws")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.7008681, 1.5, 0.21872)

[node name="Item" parent="." instance=ExtResource("11_rgshf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.17604, 2.15, -0.0933199)

[node name="Item2" parent="." instance=ExtResource("11_rgshf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.17604, 2.15, 0.43631)

[node name="Item3" parent="." instance=ExtResource("11_rgshf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.61455, 2.15, -0.0933199)

[node name="Item4" parent="." instance=ExtResource("11_rgshf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.58767, 2.15, 0.33841)

[node name="SpotLight3D" type="SpotLight3D" parent="."]
transform = Transform3D(1, 1.74846e-07, 1.74846e-07, -2.41675e-07, 0.840671, 0.541547, -5.23006e-08, -0.541547, 0.840671, 3.18896, 3.80159, -3.20195)
layers = 1048575
script = SubResource("GDScript_o0b4d")

[node name="Log1" parent="." instance=ExtResource("17_smb53")]
transform = Transform3D(1, 0, 0, 0, 0.47600794, 0.87944096, 0, -0.87944096, 0.47600794, 0, 2.2869258, 0)

[node name="Cube_5kg" parent="." instance=ExtResource("19_hk7wi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.9246081, 1.5, -0.9664593)
contact_monitor = true
max_contacts_reported = 1

[node name="Door" parent="." instance=ExtResource("17_e5k14")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.1668792, 1.0639987, -2.0756707)

[node name="InteractionComponent" parent="Door/PivotPoint/Door" index="2" node_paths=PackedStringArray("pivot_point")]
pivot_point = NodePath("../..")

[editable path="Podium_Switch/Switch"]
[editable path="Podium_Wheel/Wheel"]
[editable path="Door"]
